# Вариант 44 — Матрица прав (операция × роль)

**Роли:**

- **Администратор** - полный доступ ко всем функциям
- **Пользователь** - базовый доступ к прохождению квизов
- **Гость** - ограниченный доступ (просмотр списка квизов)

## Таблица прав доступа

| Операция | Администратор | Пользователь | Гость |
|----------|---------------|--------------|-------|

| **Аутентификация** | | | |
| Регистрация | ✅ | ✅ | ✅ |
| Вход в систему | ✅ | ✅ | ✅ |
| **Профиль** | | | |
| Просмотр своего профиля | ✅ | ✅ | ❌ |
| Редактирование профиля | ✅ | ✅ | ❌ |
| **Квизы** | | | |
| Просмотр списка квизов | ✅ | ✅ | ✅ (только активные) |
| Просмотр деталей квиза | ✅ | ✅ | ❌ (без вопросов) |
| Создание квиза | ✅ | ❌ | ❌ |
| Редактирование квиза | ✅ | ❌ | ❌ |
| Удаление квиза | ✅ | ❌ | ❌ |
| Активация/деактивация квиза | ✅ | ❌ | ❌ |
| **Вопросы и ответы** | | | |
| Просмотр вопросов с правильными ответами | ✅ | ❌ | ❌ |
| Просмотр вопросов без правильных ответов | ✅ | ✅ (во время попытки) | ❌ |
| Создание/редактирование вопросов | ✅ | ❌ | ❌ |
| **Попытки** | | | |
| Начало попытки | ✅ | ✅ | ❌ |
| Прохождение квиза | ✅ | ✅ | ❌ |
| Завершение попытки | ✅ | ✅ | ❌ |
| Просмотр своих попыток | ✅ | ✅ | ❌ |
| Просмотр всех попыток | ✅ | ❌ | ❌ |
| **Результаты** | | | |
| Просмотр своих результатов | ✅ | ✅ | ❌ |
| Просмотр всех результатов | ✅ | ❌ | ❌ |
| Экспорт результатов | ✅ | ✅ (только свои) | ❌ |
| **Статистика** | | | |
| Личная статистика | ✅ | ✅ | ❌ |
| Статистика по квизу | ✅ | ❌ | ❌ |
| Общая статистика платформы | ✅ | ❌ | ❌ |
| **Администрирование** | | | |
| Управление пользователями | ✅ | ❌ | ❌ |
| Просмотр системных логов | ✅ | ❌ | ❌ |
| Настройка системы | ✅ | ❌ | ❌ |

## Примечания по безопасности

### Scope ограничения

1. **Пользователь** видит только свои попытки и результаты
2. **Пользователь** может проходить только активные квизы
3. **Администратор** может просматривать и управлять всеми данными

### Бизнес-правила

1. Один пользователь может иметь только одну активную попытку на квиз
2. После завершения попытки нельзя изменить ответы
3. Время попытки ограничено таймером квиза
4. Правильные ответы показываются только администраторам и после завершения попытки

### Особые случаи

1. **Гость** может видеть только названия и описания активных квизов
2. **Пользователь** не видит правильные ответы при просмотре вопросов вне попытки
3. **Администратор** может просматривать попытки всех пользователей
4. При истечении времени попытка автоматически завершается с текущими ответами
