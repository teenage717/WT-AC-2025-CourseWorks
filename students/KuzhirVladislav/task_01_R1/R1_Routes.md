# Вариант 06 — Мини-CRM «Фриланс без паники» — Маршруты (User Flows)

## 1. Идентификация (вход в систему)

### Сценарий: Регистрация и вход

- Пользователь вводит username, email, пароль в форму регистрации
- Система создаёт учётную запись (роль: ROLE_USER)
- При входе пользователь получает JWT токен
- Перенаправляется на Dashboard

---

## 2. Просмотр дашборда (Dashboard)

- Количество клиентов, сделок и их сумма
- Невыполненные и просроченные задачи
- Неоплаченные счета
- Недавние сделки и задачи

---

## 3. Управление клиентами (Clients)

**Создание:** форма с полями name, email, phone
**Просмотр:** список, поиск, детали клиента с привязанными сделками
**Редактирование:** изменение контактных данных
**Удаление:** проверка на активные сделки

---

## 4. Воронка продаж (DealsPipeline)

**Kanban-доска** с этапами (Stage) по горизонтали
**Сделки** (Deal) в виде карточек, которые можно:

- Создавать
- Перетаскивать между этапами (drag-and-drop)
- Просматривать детали (клиент, сумма, задачи, счета)
- Редактировать и удалять

---

## 5. Доска задач (TaskBoard)

**Список задач** с фильтрацией по сделке и статусу
**Функции:**

- Создать задачу, привязав к сделке
- Отметить как выполненную (toggle completed)
- Редактировать дедлайн и назначение
- Просмотреть просроченные задачи

---

## 6. Управление счетами (Invoices)

**Статусы:** Draft (Черновик) → Sent (Отправлен) → Paid (Оплачен)
**Операции:**

- Создать счёт для сделки (автоматическое заполнение)
- Менять статус
- Редактировать (только в Draft)
- Удалить (только в Draft)

---

## 7. Управление этапами (Stages) — только Admin

**Список этапов** с порядком (stageOrder)
**Операции:**

- Создать новый этап
- Редактировать название и порядок
- Удалить (если не используется)
- Изменения сразу отражаются на Kanban-доске
